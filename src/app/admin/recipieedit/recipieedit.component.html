<div class="row">
    <div class="col-2">
        <app-sidebar></app-sidebar>
    </div>
    <div class="col-10">
        @if(id){
             <h3 class="mt-3 text-center fw-bold text-primary">Update Recipe Details</h3>

        }@else {
             <h3 class="mt-3 text-center fw-bold text-primary">Add Recipe Details</h3>

        }
       
        <div class="d-flex justify-content-center mt-4">
            <div class="border shadow p-4 bg-white rounded-3" style="width: 80%; max-width: 800px;">
                <div class="row mt-4">
                    <img [src]="newRecipieArray.image" alt="" height="100px" width="100px">
                   
                    <div class="col-6 pe-3">
                        <input type="text" [(ngModel)]="newRecipieArray.name" placeholder="Recipe name" class="w-100 mb-3 p-2 border border-secondary rounded-3 fs-6">
                        <input type="text" [(ngModel)]="newRecipieArray.prepTimeMinutes"   placeholder="Recipe Preparation Time in Minutes"  class="w-100 mb-3 p-2 border border-secondary rounded-3 fs-6">
                        <input type="text" [(ngModel)]="newRecipieArray.image"  placeholder="Recipe Image URL" class="w-100 mb-3 p-2 border border-secondary rounded-3 fs-6" >
                        <label class="d-block mb-2 fw-medium text-muted">
                            Choose Cuisine Type
                            <select  [(ngModel)]="newRecipieArray.cuisine" name="cuisine" id="" class="w-100 mb-3 p-2 border border-secondary rounded-3 fs-6" >
                            @for (item of cuisineArray; track $index) {
                                <option [value]="item">{{item}}</option>

                            }
                        
                     
                    </select>
                        </label>
                        <!-- <input type="text" placeholder="" > -->
                        <div class="d-flex gap-2">
                            <textarea 
                            #ingredient
                             text  placeholder="Add Recipe Ingredients"  class="w-100 mb-3 p-2 border border-secondary rounded-3 fs-6"></textarea>
                            <button (click)="addIngredients(ingredient)" class="btn btn-primary px-3 rounded-3 fs-5">+</button>
                        </div>
                        <div class=" align-items-center mb-2">
             @for (item of ingredients; track $index) {
                 <input
                [value]="item"
                class="form-control"
                placeholder="Recipe Ingredients"
              />
              <button  class="btn ms-1" (click)="removeIngredient(item)">
                <i class="fa-solid fa-trash text-danger"></i>
                 </button>
             }
             
            </div>
                    </div>
                    

             
                    <div class="col-6 ps-3">
                        <input type="text"  [(ngModel)]="newRecipieArray.servings"   placeholder="Recipe Serving (ex:4)" class="w-100 mb-3 p-2 border border-secondary rounded-3 fs-6" >
                        <input type="text" [(ngModel)]="newRecipieArray.cookTimeMinutes"   placeholder="Recipe Cooking Time in Minutes"  class="w-100 mb-3 p-2 border border-secondary rounded-3 fs-6">
                        <input  type="text" [(ngModel)]="newRecipieArray.caloriesPerServing"   placeholder="Recipe calorie per servings (ex:350)"  class="w-100 mb-3 p-2 border border-secondary rounded-3 fs-6">
                        <label class="d-block mb-2 fw-medium text-muted">
                            Choose Cuisine Type
                             <select [(ngModel)]="newRecipieArray.difficulty" name="" id=""  class="w-100 mb-3 p-2 border border-secondary rounded-3 fs-6">
                        <option value="Easy">Easy</option>
                        <option value="Medium">Medium</option>
                        <option value="Hard">Hard</option>
                    </select>
                        </label>
                      
                        <div class="d-flex gap-2">
                            <textarea  #instruct type="text"  placeholder="Cooking Instruction" class="w-100 mb-3 p-2 border border-secondary rounded-3 fs-6"name="" id=""></textarea>
                          
                            <button  (click)="addInstruction(instruct)" class="btn btn-primary px-3 rounded-3 fs-5">+</button>
                        </div>
                                        <div class=" align-items-center mb-2">
                            @for (item of instruction; track $index) {
                                <input
                                [value]="item"
                                class="form-control"
                                placeholder="Recipe Ingredients"
                            />
                            <button  class="btn ms-1" (click)="removeInstruction(item)">
                                <i class="fa-solid fa-trash text-danger"></i>
                                </button>
                            }
                            
                            </div>
                    </div>

                    
                
                </div>
                    <div class="mt-3 mb-4">
                        <h4 class="fw-semibold text-secondary">Choose Meal Type of the Recipe</h4>

                        @if(id){
                            @for (item of mealTypeArray; track $index) {
                                <span class="ms-1 p-1">{{item}}</span>
                                <button (click)="removeMealItem(item)"><i class="fa-solid fa-close text-danger"></i></button>

                            }
                        }
                        <div class="d-flex flex-wrap gap-3">
                         
                            @for (item of mealArray; track $index) {
                                   <div class="form-check">
                                <input
                                (change)="mealTypeCheck($event)"
                                 type="checkbox" class="form-check-input" id="dinner" [name]="item">
                                <label class="form-check-label" for="dinner">{{item}}</label>
                            </div>

                            }
                         
                           
                        </div>
                    </div>

                   
                    <div class="text-center mt-4">
                    @if(id){
                        <button  (click)="updateRecipie()" class="btn btn-warning px-4 py-2">Edit Recipe</button>

                    }@else {
                        <button  (click)="addRecipie()" class="btn btn-success px-4 py-2">Add Recipe</button>
                    }
                </div>
            </div>
        </div>
    </div>
</div>